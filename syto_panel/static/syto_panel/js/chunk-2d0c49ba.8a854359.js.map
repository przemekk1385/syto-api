{"version":3,"sources":["webpack:///./src/views/CottageCalendar.vue?6367","webpack:///src/views/CottageCalendar.vue","webpack:///./src/views/CottageCalendar.vue?7ec2","webpack:///./src/views/CottageCalendar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","model","value","callback","$$v","dialog","expression","rules","required","slot","datePicker","tomorrow","today","$event","fillAvailabilityForm","max","hours","submitAvailabilityForm","resetAvailabilityForm","deleteAvailabilityHours","_e","$refs","calendar","prev","next","date","past","present","openDays","indexOf","_s","formatDate","availabilityHours","printSummary","staticRenderFns","dayjs","duration","extend","locale","name","data","id","undefined","computed","format","watch","val","methods","day","availabilityForm","reset","component","VBtn","VCalendar","VCard","VCardActions","VCardText","VCardTitle","VCol","VContainer","VDatePicker","VDialog","VForm","VIcon","VMenu","VRow","VSheet","VSpacer","VTextField","VToolbar"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,sBAAsB,GAAGH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,GAAG,IAAM,QAAQ,CAACJ,EAAG,YAAYA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,SAASC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASC,GAC1X,IAAIC,EAAKD,EAAIC,GACTN,EAAQK,EAAIL,MAChB,MAAO,CAACJ,EAAG,QAAQJ,EAAIe,GAAGf,EAAIgB,GAAG,CAACV,YAAY,OAAOE,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,IAAM,KAAK,QAAQA,GAAM,GAAOM,GAAI,CAACV,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,KAAK,CAACR,EAAIO,GAAG,wBAAwB,QAAQU,MAAM,CAACC,MAAOlB,EAAU,OAAEmB,SAAS,SAAUC,GAAMpB,EAAIqB,OAAOD,GAAKE,WAAW,WAAW,CAAEtB,EAAU,OAAEI,EAAG,SAAS,CAACS,IAAI,oBAAoB,CAACT,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACJ,EAAG,eAAe,CAACE,YAAY,YAAY,CAACN,EAAIO,GAAG,qBAAqBH,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,OAAO,CAACJ,EAAG,SAAS,CAACI,MAAM,CAAC,0BAAyB,EAAM,cAAc,GAAG,WAAa,mBAAmB,WAAW,GAAG,YAAY,QAAQC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASC,GACtrB,IAAIC,EAAKD,EAAIC,GACTN,EAAQK,EAAIL,MAChB,MAAO,CAACJ,EAAG,eAAeJ,EAAIe,GAAGf,EAAIgB,GAAG,CAACR,MAAM,CAAC,MAAQ,OAAO,eAAe,eAAe,SAAW,GAAG,MAAQ,CAACR,EAAIuB,MAAMC,WAAWP,MAAM,CAACC,MAAOlB,EAAQ,KAAEmB,SAAS,SAAUC,GAAMpB,EAAIyB,KAAKL,GAAKE,WAAW,SAAS,eAAed,GAAM,GAAOM,QAAS,MAAK,EAAM,WAAWG,MAAM,CAACC,MAAOlB,EAAc,WAAEmB,SAAS,SAAUC,GAAMpB,EAAI0B,WAAWN,GAAKE,WAAW,eAAe,CAAClB,EAAG,gBAAgB,CAACI,MAAM,CAAC,oBAAoB,IAAI,UAAY,GAAG,OAAS,KAAK,IAAMR,EAAI2B,SAAS,eAAe3B,EAAI4B,OAAOd,GAAG,CAAC,OAAS,SAASe,GAAQ,OAAO7B,EAAI8B,qBAAqB9B,EAAIyB,OAAO,MAAQ,SAASI,GAAQ7B,EAAI0B,YAAa,IAAQT,MAAM,CAACC,MAAOlB,EAAQ,KAAEmB,SAAS,SAAUC,GAAMpB,EAAIyB,KAAKL,GAAKE,WAAW,WAAW,GAAGlB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,aAAa,eAAe,YAAY,MAAQ,CAACR,EAAIuB,MAAMC,SAAUxB,EAAIuB,MAAMQ,KAAK,KAAO,QAAQd,MAAM,CAACC,MAAOlB,EAAS,MAAEmB,SAAS,SAAUC,GAAMpB,EAAIgC,MAAMZ,GAAKE,WAAW,YAAY,IAAI,IAAI,GAAGlB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,SAAW,IAAIM,GAAG,CAAC,MAAQd,EAAIiC,yBAAyB,CAAC7B,EAAG,SAAS,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,iBAAiB,GAAGH,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,SAAW,IAAIM,GAAG,CAAC,MAAQd,EAAIkC,wBAAwB,CAAC9B,EAAG,SAAS,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,mBAAmB,GAAIP,EAAM,GAAEI,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,GAAG,SAAW,IAAIM,GAAG,CAAC,MAAQd,EAAImC,0BAA0B,CAAC/B,EAAG,SAAS,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,8BAA8B,GAAGP,EAAIoC,MAAM,IAAI,IAAI,GAAGpC,EAAIoC,MAAM,GAAGhC,EAAG,QAAQ,CAACE,YAAY,OAAOE,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,IAAM,IAAIM,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO7B,EAAIqC,MAAMC,SAASC,UAAU,CAACnC,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,KAAK,CAACR,EAAIO,GAAG,uBAAuB,GAAGH,EAAG,QAAQ,CAACE,YAAY,OAAOE,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,IAAM,IAAIM,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO7B,EAAIqC,MAAMC,SAASE,UAAU,CAACpC,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,KAAK,CAACR,EAAIO,GAAG,wBAAwB,IAAI,IAAI,IAAI,GAAGH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACA,EAAG,aAAa,CAACS,IAAI,WAAWL,MAAM,CAAC,MAAQ,UAAU,OAAS,KAAK,YAAY,GAAG,SAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAIC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASC,GAC5nE,IAAI4B,EAAO5B,EAAI4B,KACXC,EAAO7B,EAAI6B,KACXC,EAAU9B,EAAI8B,QAClB,MAAO,CAACvC,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQmC,EAAU,UAAY,GAAG,SAAWD,IAAwC,IAAhC1C,EAAI4C,SAASC,QAAQJ,GAAa,UAAY,IAAI,IAAM,GAAG,MAAQ,GAAG,MAAQE,GAAS7B,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO7B,EAAI8B,qBAAqBW,MAAS,CAACzC,EAAIO,GAAG,IAAIP,EAAI8C,GAAG9C,EAAI+C,WAAWN,IAAO,UAAU,CAAC9B,IAAI,MAAMC,GAAG,SAASC,GACtT,IAAI4B,EAAO5B,EAAI4B,KACXC,EAAO7B,EAAI6B,KACf,MAAO,CAACtC,EAAG,cAAc,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,QAAQ,CAACE,YAAY,eAAe,CAAEN,EAAIgD,kBAAkBP,GAAOrC,EAAG,UAAU,CAACE,YAAY,yBAAyBE,MAAM,CAAC,MAASkC,EAAmB,YAAZ,UAAwB,KAAO,GAAG,QAAU,KAAK,CAAC1C,EAAIO,GAAG,IAAIP,EAAI8C,GAAG9C,EAAIiD,aAAaR,IAAO,OAAOzC,EAAIoC,MAAM,IAAI,IAAI,QAAQnB,MAAM,CAACC,MAAOlB,EAAS,MAAEmB,SAAS,SAAUC,GAAMpB,EAAIkB,MAAME,GAAKE,WAAW,YAAY,IAAI,IAAI,IAAI,IAC7b4B,EAAkB,G,gFCyKlBC,EAAQ,EAAZ,QACIC,EAAW,EAAf,QAEA,UACAD,EAAME,OAAOD,GACbD,EAAMG,OAAO,MAEb,OACEC,KAAM,kBACNC,KAFF,WAGI,MAAO,CACLR,kBAAmB,GACnBJ,SAAU,GAEVvB,QAAQ,EAERK,YAAY,EAEZH,MAAO,CACLC,SAAU,SAAlB,wCACQO,IAAK,SAAb,+DAGM0B,QAAIC,EACJ1B,WAAO0B,EACPjC,UAAMiC,EAENxC,MAAO,KAGXyC,SAAU,CACR/B,MADJ,WAEM,OAAOuB,IAAQS,OAAO,eAExBjC,SAJJ,WAKM,OAAOwB,IACb,gBAAQ,KAAR,KACA,uBAGEU,MAAO,CACLxC,OADJ,SACA,GACWyC,IACH7D,KAAKyB,YAAa,EAElBzB,KAAKiC,2BAIX,QA1CF,WA0CA,gLACA,aADA,cACA,EADA,gBAEA,0BAFA,OAEA,EAFA,OAIA,8CACA,8BACA,mDACA,uDACA,IARA,8CAWE6B,QAAS,OAAX,OAAW,CAAX,gBACIhB,WAAY,SAAhB,GACM,IAAN,OACM,OAAmB,IAAfiB,EAAIvB,OACCuB,EAAIJ,OAAO,SAEXI,EAAIJ,OAAO,MAGtBX,aATJ,SASA,YACA,iEADA,EACA,MAEM,MAAO,GAAb,qBAGA,gBACI,SAAJ,WACI,sBAAJ,wBACI,wBAAJ,0BACI,wBAAJ,0BACI,yBAAJ,8BApBA,IAuBI,uBAvBJ,WAuBA,sKACA,oCADA,oBAEA,mBACA,OAEA,EALA,gCAMA,2BACA,QACA,SARA,OAMA,EANA,+CAWA,2BACA,QACA,QACA,SAdA,QAWA,EAXA,eAkBA,uDAEA,YApBA,+CAuBI,wBA9CJ,WA8CA,mKACA,gBADA,KAGA,GAHA,qCAGA,8BAHA,0DAIA,uBAJA,OAOA,YAPA,8CAUInB,qBAxDJ,SAwDA,YACA,iEADA,EACA,KADA,EACA,MAEM7B,KAAKwD,GAAKA,EACVxD,KAAK+B,MAAQA,EACb/B,KAAKwB,KAAOgB,EAEZxC,KAAKoB,QAAS,GAEhBa,sBAjEJ,WAkEMjC,KAAKoC,MAAM4B,iBAAiBC,QAC5BjE,KAAKwD,QAAKC,MCtTyU,I,iOCOrVS,EAAY,eACd,EACApE,EACAmD,GACA,EACA,KACA,KACA,MAIa,aAAAiB,EAAiB,QAsBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,YAAA,KAAUC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,aAAA,KAAWC,cAAA,KAAYC,UAAA,KAAQC,QAAA,KAAMC,QAAA,KAAMC,QAAA,KAAMC,OAAA,KAAKC,SAAA,KAAOC,UAAA,KAAQC,aAAA,KAAWC,WAAA","file":"js/chunk-2d0c49ba.8a854359.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h1',{staticClass:\"text-h3\"},[_vm._v(\"Mój kalendarz\")])])],1),_c('v-row',[_c('v-col',[_c('v-toolbar',{attrs:{\"flat\":\"\",\"tag\":\"div\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"width\":\"auto \"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mx-2\",attrs:{\"color\":\"success\",\"dark\":\"\",\"fab\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-calendar-plus\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(_vm.dialog)?_c('v-form',{ref:\"availabilityForm\"},[_c('v-card',{attrs:{\"width\":\"400\"}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Godziny pracy \")]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Data\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.slot),callback:function ($$v) {_vm.slot=$$v},expression:\"slot\"}},'v-text-field',attrs,false),on))]}}],null,false,784026741),model:{value:(_vm.datePicker),callback:function ($$v) {_vm.datePicker=$$v},expression:\"datePicker\"}},[_c('v-date-picker',{attrs:{\"first-day-of-week\":\"1\",\"landscape\":\"\",\"locale\":\"pl\",\"min\":_vm.tomorrow,\"show-current\":_vm.today},on:{\"change\":function($event){return _vm.fillAvailabilityForm(_vm.slot)},\"input\":function($event){_vm.datePicker = false}},model:{value:(_vm.slot),callback:function ($$v) {_vm.slot=$$v},expression:\"slot\"}})],1),_c('v-text-field',{attrs:{\"label\":\"Czas pracy\",\"prepend-icon\":\"mdi-clock\",\"rules\":[_vm.rules.required, _vm.rules.max],\"type\":\"text\"},model:{value:(_vm.hours),callback:function ($$v) {_vm.hours=$$v},expression:\"hours\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"icon\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.submitAvailabilityForm}},[_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\" mdi-send \")])],1),_c('v-btn',{attrs:{\"color\":\"warning\",\"icon\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.resetAvailabilityForm}},[_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\" mdi-eraser \")])],1),(_vm.id)?_c('v-btn',{attrs:{\"color\":\"error\",\"icon\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.deleteAvailabilityHours}},[_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\" mdi-trash-can-outline \")])],1):_vm._e()],1)],1)],1):_vm._e()],1),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"fab\":\"\"},on:{\"click\":function($event){return _vm.$refs.calendar.prev()}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-chevron-left\")])],1),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"fab\":\"\"},on:{\"click\":function($event){return _vm.$refs.calendar.next()}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-chevron-right\")])],1)],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-sheet',[_c('v-calendar',{ref:\"calendar\",attrs:{\"color\":\"primary\",\"locale\":\"pl\",\"show-week\":\"\",\"weekdays\":[1, 2, 3, 4, 5, 6, 0]},scopedSlots:_vm._u([{key:\"day-label\",fn:function(ref){\nvar date = ref.date;\nvar past = ref.past;\nvar present = ref.present;\nreturn [_c('v-btn',{attrs:{\"color\":present ? 'primary' : '',\"disabled\":past || _vm.openDays.indexOf(date) === -1,\"elevation\":\"0\",\"fab\":\"\",\"small\":\"\",\"text\":!present},on:{\"click\":function($event){return _vm.fillAvailabilityForm(date)}}},[_vm._v(\" \"+_vm._s(_vm.formatDate(date))+\" \")])]}},{key:\"day\",fn:function(ref){\nvar date = ref.date;\nvar past = ref.past;\nreturn [_c('v-container',{staticClass:\"mt-1\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{staticClass:\"text-center\"},[(_vm.availabilityHours[date])?_c('v-sheet',{staticClass:\"px-1 py-1 text-caption\",attrs:{\"color\":!past ? 'primary' : 'secondary',\"dark\":\"\",\"rounded\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.printSummary(date))+\" \")]):_vm._e()],1)],1)],1)]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row>\n      <v-col>\n        <h1 class=\"text-h3\">Mój kalendarz</h1>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col>\n        <v-toolbar flat tag=\"div\">\n          <v-spacer></v-spacer>\n          <v-dialog v-model=\"dialog\" width=\"auto \">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"success\"\n                dark\n                fab\n                class=\"mx-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                <v-icon dark>mdi-calendar-plus</v-icon>\n              </v-btn>\n            </template>\n            <v-form v-if=\"dialog\" ref=\"availabilityForm\">\n              <v-card width=\"400\">\n                <v-card-title class=\"headline\">\n                  Godziny pracy\n                </v-card-title>\n                <v-card-text>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <v-menu\n                        v-model=\"datePicker\"\n                        :close-on-content-click=\"false\"\n                        :nudge-right=\"40\"\n                        transition=\"scale-transition\"\n                        offset-y\n                        min-width=\"auto\"\n                      >\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-text-field\n                            v-model=\"slot\"\n                            label=\"Data\"\n                            prepend-icon=\"mdi-calendar\"\n                            readonly\n                            :rules=\"[rules.required]\"\n                            v-bind=\"attrs\"\n                            v-on=\"on\"\n                          ></v-text-field>\n                        </template>\n                        <v-date-picker\n                          v-model=\"slot\"\n                          first-day-of-week=\"1\"\n                          landscape\n                          locale=\"pl\"\n                          :min=\"tomorrow\"\n                          :show-current=\"today\"\n                          @change=\"fillAvailabilityForm(slot)\"\n                          @input=\"datePicker = false\"\n                        ></v-date-picker>\n                      </v-menu>\n                      <v-text-field\n                        v-model=\"hours\"\n                        label=\"Czas pracy\"\n                        prepend-icon=\"mdi-clock\"\n                        :rules=\"[rules.required, rules.max]\"\n                        type=\"text\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-card-text>\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn\n                    color=\"primary\"\n                    icon\n                    outlined\n                    @click=\"submitAvailabilityForm\"\n                  >\n                    <v-icon class=\"mx-2\">\n                      mdi-send\n                    </v-icon>\n                  </v-btn>\n                  <v-btn\n                    color=\"warning\"\n                    icon\n                    outlined\n                    @click=\"resetAvailabilityForm\"\n                  >\n                    <v-icon class=\"mx-2\">\n                      mdi-eraser\n                    </v-icon>\n                  </v-btn>\n                  <v-btn\n                    v-if=\"id\"\n                    color=\"error\"\n                    icon\n                    outlined\n                    @click=\"deleteAvailabilityHours\"\n                  >\n                    <v-icon class=\"mx-2\">\n                      mdi-trash-can-outline\n                    </v-icon>\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-form>\n          </v-dialog>\n          <v-btn\n            color=\"primary\"\n            dark\n            fab\n            class=\"mx-2\"\n            @click=\"$refs.calendar.prev()\"\n          >\n            <v-icon dark>mdi-chevron-left</v-icon>\n          </v-btn>\n          <v-btn\n            color=\"primary\"\n            dark\n            fab\n            class=\"mx-2\"\n            @click=\"$refs.calendar.next()\"\n          >\n            <v-icon dark>mdi-chevron-right</v-icon>\n          </v-btn>\n        </v-toolbar>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col>\n        <v-sheet>\n          <v-calendar\n            ref=\"calendar\"\n            v-model=\"value\"\n            color=\"primary\"\n            locale=\"pl\"\n            show-week\n            :weekdays=\"[1, 2, 3, 4, 5, 6, 0]\"\n          >\n            <template v-slot:day-label=\"{ date, past, present }\">\n              <v-btn\n                :color=\"present ? 'primary' : ''\"\n                :disabled=\"past || openDays.indexOf(date) === -1\"\n                elevation=\"0\"\n                fab\n                small\n                :text=\"!present\"\n                @click=\"fillAvailabilityForm(date)\"\n              >\n                {{ formatDate(date) }}\n              </v-btn>\n            </template>\n            <template v-slot:day=\"{ date, past }\">\n              <v-container class=\"mt-1\">\n                <v-row dense>\n                  <v-col class=\"text-center\">\n                    <v-sheet\n                      v-if=\"availabilityHours[date]\"\n                      :color=\"!past ? 'primary' : 'secondary'\"\n                      class=\"px-1 py-1 text-caption\"\n                      dark\n                      rounded\n                    >\n                      {{ printSummary(date) }}\n                    </v-sheet>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </template>\n          </v-calendar>\n        </v-sheet>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\n\nvar dayjs = require(\"dayjs\");\nvar duration = require(\"dayjs/plugin/duration\");\n\nrequire(\"dayjs/locale/pl\");\ndayjs.extend(duration);\ndayjs.locale(\"pl\");\n\nexport default {\n  name: \"CottageCalendar\",\n  data() {\n    return {\n      availabilityHours: {},\n      openDays: [],\n\n      dialog: false,\n\n      datePicker: false,\n\n      rules: {\n        required: value => !!value || \"To pole jest wymagane.\",\n        max: value => value <= 16 || \"Maksymalna dozwolona liczba godzin to 16.\"\n      },\n\n      id: undefined,\n      hours: undefined,\n      slot: undefined,\n\n      value: \"\"\n    };\n  },\n  computed: {\n    today() {\n      return dayjs().format(\"YYYY-MM-DD\");\n    },\n    tomorrow() {\n      return dayjs()\n        .add(dayjs.duration({ days: 1 }))\n        .format(\"YYYY-MM-DD\");\n    }\n  },\n  watch: {\n    dialog(val) {\n      if (!val) {\n        this.datePicker = false;\n\n        this.resetAvailabilityForm();\n      }\n    }\n  },\n  async mounted() {\n    const openDays = await this.slotList();\n    const availabilityHours = await this.availabilityHoursList();\n\n    this.openDays = openDays.map(item => item.day);\n    this.availabilityHours = availabilityHours.reduce(\n      (prev, { id, hours, slot }) =>\n        Object.assign(prev, { [slot]: { id, hours } }),\n      {}\n    );\n  },\n  methods: {\n    formatDate: date => {\n      const day = dayjs(date);\n      if (day.date() === 1) {\n        return day.format(\"D MMM\");\n      } else {\n        return day.format(\"D\");\n      }\n    },\n    printSummary(date) {\n      const { hours } = this.availabilityHours?.[date] || {};\n\n      return `${hours} godz.`;\n    },\n\n    ...mapActions({\n      slotList: \"slotList\",\n      availabilityHoursList: \"availabilityHoursList\",\n      availabilityHoursCreate: \"availabilityHoursCreate\",\n      availabilityHoursUpdate: \"availabilityHoursUpdate\",\n      availabilityHoursDestroy: \"availabilityHoursDestroy\"\n    }),\n\n    async submitAvailabilityForm() {\n      if (this.$refs.availabilityForm.validate()) {\n        const { hours, slot } = this;\n        let { id } = this;\n\n        if (!id) {\n          id = await this.availabilityHoursCreate({\n            hours,\n            slot\n          });\n        } else {\n          id = await this.availabilityHoursUpdate({\n            id: this.id,\n            hours,\n            slot\n          });\n        }\n\n        if (id) this.availabilityHours[this.slot] = { id, hours, slot };\n\n        this.dialog = false;\n      }\n    },\n    async deleteAvailabilityHours() {\n      const { id, slot } = this;\n\n      if (id && (await this.availabilityHoursDestroy(id))) {\n        delete this.availabilityHours[slot];\n      }\n\n      this.dialog = false;\n    },\n\n    fillAvailabilityForm(date) {\n      const { id, hours } = this.availabilityHours?.[date] || {};\n\n      this.id = id;\n      this.hours = hours;\n      this.slot = date;\n\n      this.dialog = true;\n    },\n    resetAvailabilityForm() {\n      this.$refs.availabilityForm.reset();\n      this.id = undefined;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CottageCalendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CottageCalendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CottageCalendar.vue?vue&type=template&id=13cd0bf5&\"\nimport script from \"./CottageCalendar.vue?vue&type=script&lang=js&\"\nexport * from \"./CottageCalendar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCalendar } from 'vuetify/lib/components/VCalendar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCalendar,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDatePicker,VDialog,VForm,VIcon,VMenu,VRow,VSheet,VSpacer,VTextField,VToolbar})\n"],"sourceRoot":""}