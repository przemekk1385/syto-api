{"version":3,"sources":["webpack:///./src/views/admin/Users.vue?3cf7","webpack:///src/views/admin/Users.vue","webpack:///./src/views/admin/Users.vue?4d12","webpack:///./src/views/admin/Users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","headers","footerProps","items","scopedSlots","_u","key","fn","ref","groups","item","_l","getGroupsIcons","icon","_s","index","ref_item","id","isActive","isMe","_e","on","$event","performToggleIsActive","staticRenderFns","name","data","text","value","sortable","computed","methods","foreman","cottage_worker","stationary_worker","new_employee","map","meId","component","VCol","VContainer","VDataTable","VIcon","VRow","VSimpleCheckbox"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,mBAAmB,GAAGH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,YAAY,cAAcE,MAAM,CAAC,QAAUR,EAAIS,QAAQ,eAAeT,EAAIU,YAAY,MAAQV,EAAIW,MAAM,WAAW,KAAK,kBAAkB,cAAcC,YAAYZ,EAAIa,GAAG,CAAC,CAACC,IAAI,cAAcC,GAAG,SAASC,GAC9b,IAAIC,EAASD,EAAIE,KAAKD,OACtB,OAAOjB,EAAImB,GAAInB,EAAIoB,eAAeH,IAAS,SAASI,GAAM,OAAOjB,EAAG,SAAS,CAACU,IAAIO,GAAM,CAACrB,EAAIO,GAAG,IAAIP,EAAIsB,GAAGD,GAAM,YAAW,CAACP,IAAI,gBAAgBC,GAAG,SAASC,GAC7J,IAAIO,EAAQP,EAAIO,MACZC,EAAWR,EAAIE,KACfO,EAAKD,EAASC,GACdC,EAAWF,EAASE,SACxB,MAAO,CAAG1B,EAAI2B,KAAKF,GAA8IzB,EAAI4B,KAA7IxB,EAAG,oBAAoB,CAACI,MAAM,CAAC,MAAQkB,EAAS,QAAS,GAAOG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAI+B,sBAAsBR,WAAwB,MAAK,IAAO,CAACvB,EAAIO,GAAG,SAAS,IAAI,IAAI,IAC/MyB,EAAkB,G,0DCiCtB,GACEC,KAAM,QACNC,KAAM,WAAR,OACA,aACA,iCAGA,SACA,CACQC,KAAM,OACNC,MAAO,YACPC,UAAU,GAElB,CACQF,KAAM,WACNC,MAAO,YAEf,CACQD,KAAM,QACNC,MAAO,QACPC,UAAU,GAElB,CACQF,KAAM,iBACNC,MAAO,eAEf,CACQD,KAAM,UACNC,MAAO,cACPC,UAAU,GAElB,CACQF,KAAM,QACNC,MAAO,UACPC,UAAU,GAElB,CACQF,KAAM,QACNC,MAAO,UAEf,CACQD,KAAM,UACNC,MAAO,aAGf,WAEEE,SAAU,OAAZ,OAAY,CAAZ,GACA,wBAEE,QAlDF,WAkDA,8KACA,aADA,OACA,EADA,OAEA,UAFA,8CAIEC,QAAS,OAAX,OAAW,CAAX,kBACA,gBACI,SAAJ,WACI,mBAAJ,wBAHA,IAMI,sBANJ,SAMA,mLACA,kDADA,EACA,GADA,SAEA,wBAFA,gBAEA,EAFA,EAEA,UAEA,qBACA,0CALA,8CASInB,eAfJ,SAeA,GACM,IAAN,GACQoB,QAAS,kBACTC,eAAgB,wBAChBC,kBAAmB,cACnBC,aAAc,eAEhB,OAAO1B,EAAO2B,KAAI,SAAxB,mBAEIjB,KAxBJ,SAwBA,OACA,aAEM,OAAOkB,IAASpB,MC1HwU,I,yGCO1VqB,EAAY,eACd,EACA/C,EACAiC,GACA,EACA,KACA,KACA,MAIa,aAAAc,EAAiB,QAUhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,aAAA,KAAWC,aAAA,KAAWC,QAAA,KAAMC,OAAA,KAAKC,kBAAA","file":"js/chunk-2d217727.c87ce581.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',[_c('h1',{staticClass:\"text-h3\"},[_vm._v(\"Pracownicy\")])])],1),_c('v-row',[_c('v-col',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"footer-props\":_vm.footerProps,\"items\":_vm.items,\"item-key\":\"id\",\"pagination.sync\":\"pagination\"},scopedSlots:_vm._u([{key:\"item.groups\",fn:function(ref){\nvar groups = ref.item.groups;\nreturn _vm._l((_vm.getGroupsIcons(groups)),function(icon){return _c('v-icon',{key:icon},[_vm._v(\" \"+_vm._s(icon)+\" \")])})}},{key:\"item.isActive\",fn:function(ref){\nvar index = ref.index;\nvar ref_item = ref.item;\nvar id = ref_item.id;\nvar isActive = ref_item.isActive;\nreturn [(!_vm.isMe(id))?_c('v-simple-checkbox',{attrs:{\"value\":isActive,\"ripple\":false},on:{\"input\":function($event){return _vm.performToggleIsActive(index)}}}):_vm._e()]}}],null,true)},[_vm._v(\"x \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row>\n      <v-col>\n        <h1 class=\"text-h3\">Pracownicy</h1>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-data-table\n          class=\"elevation-1\"\n          :headers=\"headers\"\n          :footer-props=\"footerProps\"\n          :items=\"items\"\n          item-key=\"id\"\n          pagination.sync=\"pagination\"\n        >\n          <template v-slot:[`item.groups`]=\"{ item: { groups } }\">\n            <v-icon v-for=\"icon in getGroupsIcons(groups)\" :key=\"icon\">\n              {{ icon }}\n            </v-icon>\n          </template>\n          <template\n            v-slot:[`item.isActive`]=\"{ index, item: { id, isActive } }\"\n          >\n            <v-simple-checkbox\n              v-if=\"!isMe(id)\"\n              :value=\"isActive\"\n              :ripple=\"false\"\n              @input=\"performToggleIsActive(index)\"\n            ></v-simple-checkbox> </template\n          >x\n        </v-data-table>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions, mapState } from \"vuex\";\n\nexport default {\n  name: \"Users\",\n  data: () => ({\n    footerProps: {\n      itemsPerPageOptions: [20, 50, 100]\n    },\n\n    headers: [\n      {\n        text: \"ImiÄ™\",\n        value: \"firstName\",\n        sortable: false\n      },\n      {\n        text: \"Nazwisko\",\n        value: \"lastName\"\n      },\n      {\n        text: \"Email\",\n        value: \"email\",\n        sortable: false\n      },\n      {\n        text: \"Data urodzenia\",\n        value: \"dateOfBirth\"\n      },\n      {\n        text: \"Telefon\",\n        value: \"phoneNumber\",\n        sortable: false\n      },\n      {\n        text: \"Adres\",\n        value: \"address\",\n        sortable: false\n      },\n      {\n        text: \"Grupy\",\n        value: \"groups\"\n      },\n      {\n        text: \"Aktywny\",\n        value: \"isActive\"\n      }\n    ],\n    items: []\n  }),\n  computed: {\n    ...mapState([\"me\"])\n  },\n  async mounted() {\n    const items = await this.userList();\n    this.items = items;\n  },\n  methods: {\n    ...mapActions({\n      userList: \"userList\",\n      userToggleIsActive: \"userToggleIsActive\"\n    }),\n\n    async performToggleIsActive(i) {\n      const { id } = this.items?.[i] || {};\n      const { isActive } = await this.userToggleIsActive(id);\n\n      if (isActive || (!isActive && isActive !== undefined)) {\n        this.items[i].isActive = !this.items[i].isActive;\n      }\n    },\n\n    getGroupsIcons(groups) {\n      const icons = {\n        foreman: \"mdi-cog-outline\",\n        cottage_worker: \"mdi-home-city-outline\",\n        stationary_worker: \"mdi-factory\",\n        new_employee: \"mdi-new-box\"\n      };\n      return groups.map(group => icons[group]);\n    },\n    isMe(id) {\n      const { id: meId } = this.me;\n\n      return meId === id;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=9ab61f34&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCol,VContainer,VDataTable,VIcon,VRow,VSimpleCheckbox})\n"],"sourceRoot":""}