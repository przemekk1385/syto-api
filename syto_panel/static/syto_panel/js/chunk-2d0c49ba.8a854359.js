(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c49ba"],{"3c0d":function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-row",[e("v-col",[e("h1",{staticClass:"text-h3"},[a._v("MÃ³j kalendarz")])])],1),e("v-row",[e("v-col",[e("v-toolbar",{attrs:{flat:"",tag:"div"}},[e("v-spacer"),e("v-dialog",{attrs:{width:"auto "},scopedSlots:a._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e("v-btn",a._g(a._b({staticClass:"mx-2",attrs:{color:"success",dark:"",fab:""}},"v-btn",i,!1),r),[e("v-icon",{attrs:{dark:""}},[a._v("mdi-calendar-plus")])],1)]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[a.dialog?e("v-form",{ref:"availabilityForm"},[e("v-card",{attrs:{width:"400"}},[e("v-card-title",{staticClass:"headline"},[a._v(" Godziny pracy ")]),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[e("v-text-field",a._g(a._b({attrs:{label:"Data","prepend-icon":"mdi-calendar",readonly:"",rules:[a.rules.required]},model:{value:a.slot,callback:function(t){a.slot=t},expression:"slot"}},"v-text-field",i,!1),r))]}}],null,!1,784026741),model:{value:a.datePicker,callback:function(t){a.datePicker=t},expression:"datePicker"}},[e("v-date-picker",{attrs:{"first-day-of-week":"1",landscape:"",locale:"pl",min:a.tomorrow,"show-current":a.today},on:{change:function(t){return a.fillAvailabilityForm(a.slot)},input:function(t){a.datePicker=!1}},model:{value:a.slot,callback:function(t){a.slot=t},expression:"slot"}})],1),e("v-text-field",{attrs:{label:"Czas pracy","prepend-icon":"mdi-clock",rules:[a.rules.required,a.rules.max],type:"text"},model:{value:a.hours,callback:function(t){a.hours=t},expression:"hours"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",icon:"",outlined:""},on:{click:a.submitAvailabilityForm}},[e("v-icon",{staticClass:"mx-2"},[a._v(" mdi-send ")])],1),e("v-btn",{attrs:{color:"warning",icon:"",outlined:""},on:{click:a.resetAvailabilityForm}},[e("v-icon",{staticClass:"mx-2"},[a._v(" mdi-eraser ")])],1),a.id?e("v-btn",{attrs:{color:"error",icon:"",outlined:""},on:{click:a.deleteAvailabilityHours}},[e("v-icon",{staticClass:"mx-2"},[a._v(" mdi-trash-can-outline ")])],1):a._e()],1)],1)],1):a._e()],1),e("v-btn",{staticClass:"mx-2",attrs:{color:"primary",dark:"",fab:""},on:{click:function(t){return a.$refs.calendar.prev()}}},[e("v-icon",{attrs:{dark:""}},[a._v("mdi-chevron-left")])],1),e("v-btn",{staticClass:"mx-2",attrs:{color:"primary",dark:"",fab:""},on:{click:function(t){return a.$refs.calendar.next()}}},[e("v-icon",{attrs:{dark:""}},[a._v("mdi-chevron-right")])],1)],1)],1)],1),e("v-row",[e("v-col",[e("v-sheet",[e("v-calendar",{ref:"calendar",attrs:{color:"primary",locale:"pl","show-week":"",weekdays:[1,2,3,4,5,6,0]},scopedSlots:a._u([{key:"day-label",fn:function(t){var r=t.date,i=t.past,o=t.present;return[e("v-btn",{attrs:{color:o?"primary":"",disabled:i||-1===a.openDays.indexOf(r),elevation:"0",fab:"",small:"",text:!o},on:{click:function(t){return a.fillAvailabilityForm(r)}}},[a._v(" "+a._s(a.formatDate(r))+" ")])]}},{key:"day",fn:function(t){var r=t.date,i=t.past;return[e("v-container",{staticClass:"mt-1"},[e("v-row",{attrs:{dense:""}},[e("v-col",{staticClass:"text-center"},[a.availabilityHours[r]?e("v-sheet",{staticClass:"px-1 py-1 text-caption",attrs:{color:i?"secondary":"primary",dark:"",rounded:""}},[a._v(" "+a._s(a.printSummary(r))+" ")]):a._e()],1)],1)],1)]}}]),model:{value:a.value,callback:function(t){a.value=t},expression:"value"}})],1)],1)],1)],1)},i=[],o=e("5530"),n=e("ade3"),l=e("1da1"),s=(e("96cf"),e("d81d"),e("13d5"),e("2f62")),c=e("5a0c"),u=e("d772");e("ca0f"),c.extend(u),c.locale("pl");var d={name:"CottageCalendar",data:function(){return{availabilityHours:{},openDays:[],dialog:!1,datePicker:!1,rules:{required:function(a){return!!a||"To pole jest wymagane."},max:function(a){return a<=16||"Maksymalna dozwolona liczba godzin to 16."}},id:void 0,hours:void 0,slot:void 0,value:""}},computed:{today:function(){return c().format("YYYY-MM-DD")},tomorrow:function(){return c().add(c.duration({days:1})).format("YYYY-MM-DD")}},watch:{dialog:function(a){a||(this.datePicker=!1,this.resetAvailabilityForm())}},mounted:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.slotList();case 2:return e=t.sent,t.next=5,a.availabilityHoursList();case 5:r=t.sent,a.openDays=e.map((function(a){return a.day})),a.availabilityHours=r.reduce((function(a,t){var e=t.id,r=t.hours,i=t.slot;return Object.assign(a,Object(n["a"])({},i,{id:e,hours:r}))}),{});case 8:case"end":return t.stop()}}),t)})))()},methods:Object(o["a"])(Object(o["a"])({formatDate:function(a){var t=c(a);return 1===t.date()?t.format("D MMM"):t.format("D")},printSummary:function(a){var t,e=(null===(t=this.availabilityHours)||void 0===t?void 0:t[a])||{},r=e.hours;return"".concat(r," godz.")}},Object(s["b"])({slotList:"slotList",availabilityHoursList:"availabilityHoursList",availabilityHoursCreate:"availabilityHoursCreate",availabilityHoursUpdate:"availabilityHoursUpdate",availabilityHoursDestroy:"availabilityHoursDestroy"})),{},{submitAvailabilityForm:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.$refs.availabilityForm.validate()){t.next=14;break}if(e=a.hours,r=a.slot,i=a.id,i){t.next=9;break}return t.next=6,a.availabilityHoursCreate({hours:e,slot:r});case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,a.availabilityHoursUpdate({id:a.id,hours:e,slot:r});case 11:i=t.sent;case 12:i&&(a.availabilityHours[a.slot]={id:i,hours:e,slot:r}),a.dialog=!1;case 14:case"end":return t.stop()}}),t)})))()},deleteAvailabilityHours:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=a.id,r=a.slot,t.t0=e,!t.t0){t.next=6;break}return t.next=5,a.availabilityHoursDestroy(e);case 5:t.t0=t.sent;case 6:if(!t.t0){t.next=8;break}delete a.availabilityHours[r];case 8:a.dialog=!1;case 9:case"end":return t.stop()}}),t)})))()},fillAvailabilityForm:function(a){var t,e=(null===(t=this.availabilityHours)||void 0===t?void 0:t[a])||{},r=e.id,i=e.hours;this.id=r,this.hours=i,this.slot=a,this.dialog=!0},resetAvailabilityForm:function(){this.$refs.availabilityForm.reset(),this.id=void 0}})},v=d,f=e("2877"),b=e("6544"),m=e.n(b),y=e("8336"),p=e("a4f6"),h=e("b0af"),k=e("99d9"),x=e("62ad"),w=e("a523"),g=e("2e4b"),C=e("169a"),_=e("4bd4"),H=e("132d"),V=e("e449"),D=e("0fd9"),F=e("8dd9"),j=e("2fa4"),A=e("8654"),M=e("71d9"),O=Object(f["a"])(v,r,i,!1,null,null,null);t["default"]=O.exports;m()(O,{VBtn:y["a"],VCalendar:p["a"],VCard:h["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:x["a"],VContainer:w["a"],VDatePicker:g["a"],VDialog:C["a"],VForm:_["a"],VIcon:H["a"],VMenu:V["a"],VRow:D["a"],VSheet:F["a"],VSpacer:j["a"],VTextField:A["a"],VToolbar:M["a"]})}}]);
//# sourceMappingURL=chunk-2d0c49ba.8a854359.js.map